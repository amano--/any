# AIガイドライン作成の手順書（人間用）

## はじめに

このドキュメントは人間向けのガイドラインをAI実行用に変換する手順を説明します。

### ファイルパス

入力（人間向けガイドライン）:

- docs/guidelines/\*.md # プロジェクトの基本ガイドライン
- .clinerules # プロジェクト固有のルール

出力（AI実行用ガイドライン）:

- docs/ai/guidelines/execution.md # 実行用プロトコル
- docs/ai/guidelines/validation.md # 検証ルール
- docs/ai/guidelines/errors.md # エラー処理

変換手順書（このファイル）:

- docs/ai/docs/ai-guidelines-creation.md

## 1. 前提条件の整理

### 1.1 必要な情報収集

- プロジェクトのメインガイドライン
- 実装規約やコーディング規約
- ワークフロー定義
- 型システムの規則

### 1.2 収集時の注意点

- 相互に依存する規則の特定
- 優先順位の把握
- 暗黙的なルールの明文化

## 2. 情報の構造化

### 2.1 プロトコル形式への変換

```typescript
@protocol[category] {
  rules: Type[];
  validation: ValidationRules;
  priority: number;
}
```

### 2.2 構造化のポイント

- 機械的に検証可能な形式
- 明確な型定義
- 優先順位の数値化

## 3. 実装手順の定義

### 3.1 基本ステップ

1. 環境チェック
2. 型検証
3. 実装
4. 最適化
5. 文書化

### 3.2 エラー処理

- 型エラーの検出方法
- リカバリー手順
- エスカレーションの基準

## 4. 学んだ教訓

### 4.1 効果的だった方法

- プロトコルベースの定義
- 型システムの活用
- 優先順位の明確化
- エラーパターンの文書化

### 4.2 注意が必要な点

- 複雑すぎる規則は避ける
- 検証可能な形式を維持
- コンテキストの明確化

## 5. ガイドライン構造

### 5.1 必須セクション

1. 参照元の明記
2. 実行プロトコル
3. 型システム定義
4. エラー処理
5. 検証ルール

### 5.2 オプショナルセクション

- パフォーマンス最適化
- メモリ管理
- デバッグ手順

## 6. メンテナンス

### 6.1 更新タイミング

- 新しいパターンの発見時
- エラーパターンの特定時
- 実装方針の変更時

### 6.2 更新手順

1. 既存ルールの影響確認
2. プロトコルの更新
3. 検証ルールの調整
4. ドキュメントの更新

## 7. 実装例

### 7.1 基本形式

```typescript
@protocol[implementation] {
  steps: {
    validate: () => void;
    implement: () => void;
    optimize: () => void;
  },
  rules: {
    types: string[];
    patterns: string[];
  }
}
```

### 7.2 エラー処理

```typescript
@protocol[error_handling] {
  detection: ErrorTypes[];
  recovery: RecoverySteps;
  escalation: EscalationRules;
}
```

## 8. 検証プロセス

### 8.1 自動検証

- 型チェック
- 構文検証
- パターン適合性

### 8.2 手動検証

- 意図との整合性
- 実装可能性
- 保守性の確認

## まとめ

効果的なAIガイドラインの作成には以下が重要です：

1. 明確な構造化

   - プロトコルベースの定義
   - 型安全な実装規則
   - 検証可能なルール

2. 実用性の確保

   - 実装可能なレベルの具体性
   - エラー処理の明確化
   - メンテナンス性の考慮

3. フィードバックの反映
   - エラーパターンの収集
   - 実装経験の蓄積
   - 継続的な改善
