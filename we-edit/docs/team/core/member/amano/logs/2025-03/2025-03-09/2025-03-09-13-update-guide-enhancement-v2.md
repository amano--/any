# AIルール更新手順改善提案

## 1. 変更内容

```diff
  # Clineルール更新手順（AI用）

  ## 0. 重要な前提
  
  - ルールのメンテナンスはユーザーの責任です
  - AIは分析と改善案作成と更新作業を担当します
  - ルールの更新は必ずユーザーの承認が必要です

- ## 1. ルールの階層構造理解
+ ## 1. ルール改善のトリガー
+ 
+ ### 1.1 自動検知
+ 
+ 以下のキーワードを含む文章を検出した場合：
+ 
+ - 「ルールの問題点が見つかりました」
+ - 「ルールの改善が必要です」
+ - 「ルールの更新を提案します」
+ - 「ルールの矛盾を発見しました」
+ - 「ルールの最適化が可能です」
+ 
+ ### 1.2 手動トリガー
+ 
+ ユーザーから「ルール改善」命令を受けた場合
+ 
+ ## 2. ルールの階層構造理解
  
- ### 1.1 階層構造の概要
+ ### 2.1 階層構造の概要
  
  AIは以下の3つの階層のルールを理解し、それぞれの役割を認識すること：
  
  1. メンバールール（個人固有の設定）
     ```bash
     docs/team/[teamName]/member/[userName]/rules/
     例：docs/team/core/member/amano/rules/
     ```
  
  2. チームルール（チームメンバーとして共通の設定）
     ```bash
     docs/team/[teamName]/rules/
     例：docs/team/core/rules/
     ```
  
  3. プロジェクトルール（プロジェクトメンバーとして共通の設定）
     ```bash
     docs/setup/cline/rules/detail/
     ```
  
- ### 1.2 .clinerules生成の優先順位
+ ### 2.2 .clinerules生成の優先順位
  
  AIは必ず以下の順序でルールを読み込み、.clinerules を生成すること：
  
  1. メンバールール（最優先）
     - 個人の開発環境に特化した設定
     - 個人のワークフロー最適化設定
  
  2. チームルール（次優先）
     - チーム共通の開発プラクティス
     - チーム固有のワークフロー
  
  3. プロジェクトルール（基盤）
     - プロジェクト全体の基本ルール
     - 共通の開発標準
  
- ### 1.3 読み込み時の注意点
+ ### 2.3 読み込み時の注意点
  
  - 後から読み込むルールは先に読み込んだルールを上書きしない
  - 各階層のルールの独立性を保つ
  - 矛盾が発見された場合は即座に報告する

[rest of the file content remains unchanged, with section numbers updated accordingly]
```

## 2. 変更理由

1. セクション優先順位の最適化
   - トリガーの説明を最初に配置
   - 作業フローの自然な流れに合わせた構成
   - 理解しやすい順序に整理

2. 構造の明確化
   - セクション番号の一貫性確保
   - 関連する情報のグループ化
   - 参照のしやすさ向上

3. 内容の維持
   - 重要な情報はすべて保持
   - 階層構造の説明は詳細に維持
   - エラー防止メカニズムは継続

## 3. 概要

### 対象ファイル
docs/setup/cline/update-guide/for-ai-update-clinerules.md

### 改善の動機
- セクションの優先順位を作業フローに合わせて最適化
- より自然な情報の流れを実現
- 理解しやすい構造への改善

### 期待される成果
- より効率的な作業フロー
- 理解しやすい文書構造
- 作業手順の明確化

## 4. 現状の課題

### 4.1 問題点
- セクションの順序が作業フローと一致していない
- 情報の流れが最適でない
- 参照のしやすさに改善の余地

### 4.2 影響範囲
- AIの作業フロー全体
- ドキュメントの可読性
- 作業効率

## 5. 実装計画

### 5.1 実装手順
1. セクション順序の変更
2. 番号の一貫性確保
3. 既存コンテンツの調整

### 5.2 検証項目
- 作業フローの自然さ
- 情報の連続性
- 参照の容易さ

## 6. リスク評価

### 6.1 潜在的な問題
- 既存の参照への影響
  → 移行期間中の注意喚起
- 慣れたユーザーの混乱
  → 変更理由の明確な説明

### 6.2 代替案
1. 現状の構造を維持
   - メリット：変更による混乱を避ける
   - デメリット：最適化の機会を逃す

2. より大幅な再構成
   - メリット：完全な最適化
   - デメリット：移行コストが高い