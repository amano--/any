# update-clinerules.md改善提案 v2

## 1. 変更内容

1. 計画書作成フェーズの追加
   ```markdown
   ## 1.5 計画書作成フェーズ

   ### 1.5.1 計画書フォーマット参照
   AIは以下のファイルのフォーマットを厳密に遵守すること：
   ```
   docs/setup/cline/update-guide/ai/create-clinerules-plan.md
   ```

   ### 1.5.2 計画書作成プロセス
   1. ルールファイルの確認
      - 00-personal.md の構造確認
      - 01-team.md の構造確認
      - 02-project.md の構造確認

   2. 計画書の構造設計
      - 前提確認セクション
      - 作業計画セクション
      - 検証計画セクション

   3. エラー防止メカニズムの組込
      - 確認ポイントの設定
      - エラー対応の定義
      - 実装前検証項目の準備

   ### 1.5.3 計画書の保存
   ```
   docs/setup/cline/logs/ai/advice/[teamName]/[userName]/YYYY-MM-DD-HH-clinerules-plan.md
   ```
   ```

2. プレビュー作成フェーズの強化
   ```markdown
   ### 4.1 プレビュー作成の前提条件
   
   1. 計画書の完了確認
      - すべてのセクションが記載済み
      - エラー防止メカニズムの準備完了
      - ユーザーの承認取得

   2. 必要な情報の確認
      - メンバー情報の把握
      - チームルールの理解
      - プロジェクトルールの確認
   ```

3. 作業フローの整理
   ```markdown
   ## 新規セクション：作業フロー概要

   1. 計画フェーズ
      - 計画書フォーマットの確認
      - 計画書の作成
      - 承認の取得

   2. プレビューフェーズ
      - プレビューの作成
      - レビューと修正
      - 承認の取得

   3. 実装フェーズ
      - .clinerules の生成
      - 検証の実施
      - 最終承認の取得
   ```

## 2. 変更理由

1. プロセスの整合性確保
   - 計画書作成手順との連携が不足
   - プレビュー作成の前提条件が不明確
   - 作業フローの全体像が必要

2. エラー防止の強化
   - 計画段階でのチェック強化
   - 前提条件の明確化
   - フロー間の依存関係の明示

3. ユーザビリティの向上
   - 手順の明確化
   - 作業の順序性の明示
   - チェックポイントの具体化

## 3. 影響範囲

1. ドキュメント構造
   - 新規セクションの追加
   - 既存セクションの拡充
   - フローの再構成

2. 作業プロセス
   - 計画フェーズの追加
   - チェックポイントの増加
   - 承認プロセスの明確化

3. 品質管理
   - エラー検出の前倒し
   - 検証項目の増加
   - レビュー効率の向上

## 4. 期待される効果

1. 作業品質の向上
   - 計画段階での問題検出
   - プロセスの標準化
   - エラーの削減

2. 効率の改善
   - 手順の明確化
   - チェック作業の効率化
   - 修正作業の削減

3. メンテナンス性の向上
   - ドキュメント構造の整理
   - フローの明確化
   - 更新作業の効率化