# ユースケースベース実装計画ガイドライン

## 概要

このガイドラインは、ユースケース記述ファイルから実装計画書を作成する際の標準的なアプローチを定義します。

## 前提条件

### 必須の読み込み文書

1. ユースケース記述ファイル（`docs/usecases/[機能名].md`）
2. プロジェクトガイドライン（`docs/guidelines/`）
3. AIガイドライン（`docs/ai/guidelines/`）

### ファイル保存場所

ユースケース実装計画書は、docs/usecases/logs/plan/[機能名]/YYYY/YYYY-MM-DD\_[計画名].mdに作成。

## 文書構造

### 1. メタデータ

```markdown
# [機能名]実装計画書

作成日: YYYY-MM-DD
更新日: YYYY-MM-DD
ステータス: [計画中|レビュー中|承認済]
バージョン: X.Y.Z

## 参照文書

- [ユースケース記述](./path/to/usecase.md)
- [技術ガイドライン](./path/to/guideline.md)
- [関連実装](./path/to/related.md)
```

### 2. ユースケース分析

```markdown
## ユースケース分析

### UC-[番号]: [ユースケース名]

1. 技術要件

   - データモデル
   - API要件
   - UI要件

2. 制約条件

   - パフォーマンス要件
   - セキュリティ要件
   - UX要件

3. 依存関係
   - 外部システム
   - 内部コンポーネント
   - 共有リソース
```

### 3. 実装計画

```markdown
## 実装計画

### 1. コンポーネント構成

- ページコンポーネント

  - 責務
  - 状態管理
  - イベント処理

- 機能コンポーネント
  - 型定義
  - バリデーション
  - エラーハンドリング

### 2. APIインターフェース

- エンドポイント定義
- 入出力型
- エラー定義

### 3. データフロー

- 状態管理
- キャッシュ戦略
- 最適化方針
```

## トレーサビリティ管理

### 1. 要件追跡マトリクス

```markdown
## 要件追跡

| 要件ID | ユースケース | コンポーネント | APIエンドポイント |
| ------ | ------------ | -------------- | ----------------- |
| REQ-1  | UC-1         | Component-1    | /api/v1/endpoint  |
```

### 2. 依存関係管理

```markdown
## 依存関係

### 技術的依存

- フレームワーク
- ライブラリ
- 外部サービス

### 機能的依存

- 前提条件
- 事後条件
- 副作用
```

## 実装手順

### 1. ドキュメント分析フェーズ

1. ユースケース記述の精読
2. 技術要件の抽出
3. 制約条件の特定

### 2. 設計フェーズ

1. アーキテクチャの選定
2. コンポーネント分割
3. APIインターフェース設計

### 3. 実装指示フェーズ

1. 型定義の作成
2. コンポーネント実装
3. テスト戦略

## 品質基準

### 1. 文書品質

- 完全性：すべての要件をカバー
- 具体性：実装可能なレベルの詳細
- 一貫性：用語と構造の統一

### 2. 技術品質

- 型安全性：厳格な型定義
- パフォーマンス：最適化戦略
- メンテナンス性：コード構造

### 3. プロセス品質

- レビュー可能性
- 変更追跡性
- テスト可能性

## チェックリスト

### 1. 計画開始時

- [ ] 必要な文書をすべて読み込んだ
- [ ] 技術要件を理解した
- [ ] 制約条件を特定した

### 2. 設計時

- [ ] アーキテクチャを決定した
- [ ] コンポーネントを特定した
- [ ] インターフェースを定義した

### 3. 文書化時

- [ ] トレーサビリティを確保した
- [ ] 依存関係を明記した
- [ ] 品質基準を満たした

## 注意事項

1. ユースケースとの整合性を常に維持する
2. 技術的な決定の根拠を明確に記録する
3. 変更の影響範囲を明確にする
4. セキュリティ要件を優先的に考慮する
5. パフォーマンス要件を具体的に定義する

## 更新履歴

- YYYY-MM-DD: 初版作成
- YYYY-MM-DD: レビューフィードバックの反映
- YYYY-MM-DD: 品質基準の追加
