# 複数コンテキスト並行開発ガイドライン

## 概要

このガイドラインは、複数の境界付けられたコンテキストを並行して開発する際の標準的なプロセスと注意点をまとめたものです。overview.mdの分析と実装経験から得られた知見を基に作成されています。

## 開発プロセス

### 1. 準備フェーズ

1. コンテキスト間の依存関係分析
   ```mermaid
   graph TD
       A[会員] -->|認証| B[ブックマーク]
       A -->|作成| C[記事]
       C -->|所属| D[新聞]
       B -->|参照| C
   ```

2. チーム構成の決定
   - コンテキストごとの担当チーム
   - 共通基盤担当チーム
   - 統合テスト担当チーム

3. コミュニケーション計画
   | タイミング | 形式 | 参加者 | 目的 |
   |------------|------|---------|------|
   | 毎日 | 朝会 | 各チームリーダー | 進捗確認 |
   | 週1回 | 設計会議 | 全開発者 | 設計レビュー |
   | 随時 | チャット | 関係者 | 即時連携 |

### 2. 開発フェーズ

1. イテレーション計画
   - 2週間を基本単位とする
   - コンテキスト間の依存を考慮した優先順位付け
   - 各イテレーションでの目標設定

2. 並行開発の管理
   ```mermaid
   gantt
       title コンテキスト別開発タイムライン
       section 会員
       認証基盤    :a1, 2025-01-01, 30d
       プロフィール  :a2, after a1, 20d
       section ブックマーク
       基本機能    :b1, 2025-01-15, 25d
       拡張機能    :b2, after b1, 15d
       section 記事
       基本機能    :c1, 2025-02-01, 20d
       検索機能    :c2, after c1, 15d
   ```

3. 統合管理
   - 毎週の統合テスト
   - 問題の早期発見
   - フィードバックループの確立

### 3. リスク管理

1. リスクの種類と対策

| リスク | 影響度 | 対策 |
|--------|--------|------|
| インターフェース変更 | 高 | 契約駆動開発の採用 |
| データ整合性 | 高 | トランザクション管理 |
| パフォーマンス | 中 | 事前の負荷テスト |
| デプロイ順序 | 中 | 依存関係に基づく計画 |

2. エスカレーションフロー
   ```mermaid
   graph TD
       A[問題検出] --> B{重要度判定}
       B -->|低| C[チーム内解決]
       B -->|中| D[リーダー会議]
       B -->|高| E[緊急タスクフォース]
       C --> F[記録]
       D --> F
       E --> F
   ```

### 4. 品質管理

1. レビュープロセス
   - コード品質の確認
   - アーキテクチャの整合性
   - パフォーマンス要件の検証

2. テスト戦略
   - ユニットテスト（各コンテキスト内）
   - 統合テスト（コンテキスト間）
   - エンドツーエンドテスト

3. 監視体制
   - パフォーマンスモニタリング
   - エラー追跡
   - 利用統計の収集

## チェックリスト

### 1. 開発開始前

- [ ] 依存関係の明確化
- [ ] チーム編成の完了
- [ ] コミュニケーション計画の策定
- [ ] リスク評価の実施

### 2. 開発中

- [ ] 定期的な進捗確認
- [ ] インターフェース変更の管理
- [ ] 結合テストの実施
- [ ] パフォーマンス監視

### 3. リリース前

- [ ] 全コンテキストの整合性確認
- [ ] 全テストの完了
- [ ] デプロイ手順の確認
- [ ] ロールバック計画の準備

## 改訂履歴

- 2025-03-06: 初版作成
  - overview.mdの分析結果を反映
  - 実装経験からの知見を追加
  - 具体的なプロセスとチェックリストを整備