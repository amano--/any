# 境界付けられたコンテキスト一覧

| 境界付けられたコンテキスト名 | 英名         | 短縮Id |
| ---------------------------- | ------------ | ------ |
| 会員                         | member       | m      |
| ブックマーク                 | bookmark     | b      |
| 記事                         | article      | a      |
| 新聞                         | newspaper    | np     |
| 通知                         | notification | n      |
| ポイント                     | point        | p      |
| 決済                         | payment      | py     |
| タグ                         | tag          | t      |
| カテゴリ                     | category     | c      |
| 関係                         | relation     | r      |
| 会員サポート                 | support      | sp     |
| システム管理                 | system       | s      |
| イベント                     | event        | e      |

## 短縮Id選定の基準

1. 一意性: 他のコンテキストと重複しない
2. 簡潔性: 単一文字を優先（可能な場合）
3. 推測可能性: コンテキスト名から推測しやすい
4. 一貫性: 同じパターンで命名

## 使用例

イベントの型定義において、コンテキストを示すために使用：

```typescript
type BookmarkCreateEvent = {
  b: "b"; // bookmark context
  g: "m"; // management group
  f: "c"; // create feature
  a: "add";
  ei: ULID;
};
```

## コンテキスト間の関係

必要に応じて、コンテキスト間で以下のような関係を定義できます：

1. Bookmark-Tag関係
2. Bookmark-Category関係
3. Note-Bookmark関係
4. Notification-Event関係
   など

これらの関係は、`Relation`コンテキストで管理されます。

## ロールの説明

スタッフとはシステム運用会社に雇われた人のことである。

## 会員システム概要

会員は何かしらのグループに所属しています。
グループは階層構造を持っていて何かしらのグループに所属しています。
子グループは100まで持てます。
会員は複数のグループに所属できます。

## ブックマークシステム概要

会員またはグループはブックマークを作成、保存できます。
ブックマークはフォルダを使って階層構造にカテゴライズできます。
Chromeのブックマークをインポートエクスポートできます。
ブックマークには一つのカテゴリを指定できます
ブックマークには複数のタグをつけることができます

## 記事システム概要

会員またはグループは記事を保存できます。
記事は一つの新聞に所属しています
記事には一つのカテゴリを指定できます
記事には複数のタグをつけることができます

## 新聞システム概要

会員またはグループは新聞を保存できます。
新聞には一つのカテゴリを指定できます
新聞には複数のタグをつけることができます

## 通知システム概要

会員またはグループは他会員またはグループに通知をすることができます。
発信した会員は通知の受け取り状況を確認することができます。
通知は受け取った会員が別の会員へ再通知することができます。
通知は拡散状況を確認することができます

## ポイントシステム概要

ポイントには以下の種類が存在します

- 無償

  - ログインボーナス
  - ミッションクリアボーナス
  - ユーザーがシステムを操作するたびにもらえるアクションポイント

- 有償

  - 会員が決済システムを使い増える会員ポイント
  - 会員からもらえる、友情ポイント
  - 管理システムから付与されるシステムポイント　

- ポイントには有効期限があります。

会員は現在所持しているポイントを確認することができる。
会員は決済システムを使い有償ポイントを購入することができる。
会員はポイントを他会員に譲渡することができる。

## 決済システム概要

会員は決済システムプロバイダーを通じ、有償ポイントを購入することができる
会員は支払い履歴を確認することができる。
システム管理者は月毎の支払い合計を確認することができる。

決済システムプロバイダーは、当面はStripeのみを使用する予定。

## タグシステム概要

タグには以下の種類がある

- 会員が作った会員タグ
- システムが作った公式タグ

ブックマーク、記事、新聞には複数のタグを関連つけることができる
スタッフは公式のタグを編集することができる

## カテゴリシステム概要

カテゴリはタグの一種だがユーザが作成することはできない。
スタッフはカテゴリを編集できる

## 関係システム概要

関係の種類は以下の通り

- 会員とグループの関係
- 新聞と記事の関係
- 新聞と会員の関係
- タグとカテゴリーの関係

グラフDBを使い、関係性を追いやすく確認しやすくしたい。

スタッフは関係を確認できる

## 会員サポートシステム概要

会員は、サポートシステムを通じ問い合わせをすることができる。

## システム管理システム概要

システム管理者は、会員の一覧を見ることができる。

## イベント概要

スタッフはイベントの履歴を確認することができる。
