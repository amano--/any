# 記事保存ユースケース

## ユースケース概要

[会員]が記事を保存し、新聞に関連付けるためのユースケース。

## アクター

- [会員]
- [システム]

## 事前条件

- アカウントが有効であること
- 所属新聞が存在すること

## 基本フロー

### シナリオ：テクノロジー記事の保存

[会員]の中堅テクノロジージャーナリスト、村田優子（35歳）は、最新のAI技術に関する取材記事を執筆し、テクノロジー専門の新聞「Tech Daily」に保存しようとしています。

記事には詳細な技術解説と、業界有識者のインタビュー内容が含まれており、正確な情報管理と、後で容易に検索できるようにすることが重要です。

1. [会員]は記事エディタから新規記事作成を開始
2. [システム]は記事エディタを表示
3. [会員]は以下の情報を入力
   - タイトル：「次世代AI技術が変える未来の働き方」
   - 本文：技術解説とインタビュー内容
   - 所属新聞：「Tech Daily」を選択
4. [システム]は入力検証サービスで入力を検証
5. [会員]は記事のプレビューを確認
6. [システム]は記事保存サービスで保存を実行
7. [システム]は検索インデックスサービスで検索インデックスを更新
8. [システム]は完了を通知

## 代替フロー

### A1. 下書き保存

3a. [会員]は下書きとして保存を選択
4a. [システム]は下書き管理サービスで保存
5a. 基本フローを終了

### A2. 新聞の新規作成

3b. [会員]は新しい新聞の作成を選択
4b. [システム]は新聞作成フローを開始
5b. 新聞作成完了後、基本フローの3に戻る

## 例外フロー

### E1. バリデーションエラー

4e. [システム]は入力エラーを検出
5e. [システム]はエラーメッセージを表示
6e. 基本フローの3に戻る

### E2. 保存エラー

6e. [システム]は保存エラーを検出
7e. [システム]は自動バックアップを作成
8e. [システム]はエラーを通知

## 事後条件

- 記事が保存されていること
- 新聞との関連付けが完了していること
- 検索インデックスが更新されていること

## 関連オブジェクト

- 記事情報
- 記事エディタ
- 記事保存サービス
- 下書き管理サービス
- 入力検証サービス
- 検索インデックスサービス

## 補足情報

### バリデーションルール

1. タイトル
   - 必須入力
   - 1-200文字
   - 重複チェック

2. 本文
   - 必須入力
   - 最大50,000文字
   - 形式チェック

### 操作権限

1. 記事作成
   - 一般[会員]：可
   - グループ[会員]：可

2. 下書き
   - 保存数制限：50件
   - 保持期間：90日
