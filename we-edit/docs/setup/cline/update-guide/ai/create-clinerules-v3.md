# AI用 .clinerules 作成計画書の作り方

## 0. 重要な前提

- 計画書は作業開始前に必ず作成すること
- 各階層のルールの理解度を確認すること
- ルール間の関係性を把握すること

## 1. 各階層のルール理解度確認

### 1.1 メンバールール確認（最優先）

1. 確認対象のルール
   ```
   docs/team/core/member/amano/rules/
   ```

2. 理解度判定基準
   - 完全理解：次のフェーズへ
   - 部分的理解：不足部分を再確認
   - 不十分：全体を再読了

3. 重点確認項目
   - 個人開発環境の設定
   - 個人ワークフローの特徴
   - プラグイン設定と連携

### 1.2 チームルール確認（次優先）

1. 確認対象のルール
   ```
   docs/team/core/rules/
   ```

2. 理解度判定基準
   - 完全理解：次のフェーズへ
   - 部分的理解：メンバールールとの関係を再確認
   - 不十分：メンバールールとの整合性から再検討

3. 重点確認項目
   - チーム共通の開発プラクティス
   - チーム固有のワークフロー
   - コミュニケーションルール

### 1.3 プロジェクトルール確認（基盤）

1. 確認対象のルール
   ```
   docs/setup/cline/rules/detail/
   ```

2. 理解度判定基準
   - 完全理解：実装フェーズへ
   - 部分的理解：メンバー/チームルールとの関係を再確認
   - 不十分：全階層のルールを俯瞰的に再検討

3. 重点確認項目
   - プロジェクト全体の基本方針
   - セキュリティ要件と制約
   - 標準プラクティス

## 2. ルール間の関係性確認

### 2.1 メンバールールとチームルール

1. 整合性確認
   - 個人設定とチーム規約の矛盾チェック
   - カスタマイズ範囲の確認
   - オーバーライド項目の特定

2. 優先順位確認
   - メンバー固有の設定が優先
   - チームルールによる制約の確認
   - カスタマイズ可能な範囲の明確化

### 2.2 チームルールとプロジェクトルール

1. 整合性確認
   - チーム固有の規約とプロジェクト方針の矛盾チェック
   - チーム独自の拡張点の確認
   - 共通ルールの遵守状況確認

2. 優先順位確認
   - チーム固有のカスタマイズ範囲
   - プロジェクト共通の制約
   - 拡張可能な領域の特定

### 2.3 全階層を通じた確認

1. 整合性確認
   - 3階層間の矛盾チェック
   - 優先順位の一貫性確認
   - 依存関係の把握

2. 運用面の確認
   - 実装可能性の検証
   - メンテナンス性の評価
   - 拡張性の確保

## 3. プレビュー作成フェーズ

### 3.1 階層別プレビュー構造

1. メンバールール部分
   ```yaml
   memberRules:
     理解度確認:
       status: "完了/部分的/不十分"
       notes: "確認結果の詳細"
       actionItems: "必要な対応"

     重点項目:
       個人開発環境: "確認済みの設定"
       ワークフロー: "確認済みの特徴"
       プラグイン: "確認済みの設定"
   ```

2. チームルール部分
   ```yaml
   teamRules:
     理解度確認:
       status: "完了/部分的/不十分"
       notes: "確認結果の詳細"
       actionItems: "必要な対応"

     重点項目:
       開発プラクティス: "確認済みの内容"
       ワークフロー: "確認済みの規定"
       コミュニケーション: "確認済みのルール"
   ```

3. プロジェクトルール部分
   ```yaml
   projectRules:
     理解度確認:
       status: "完了/部分的/不十分"
       notes: "確認結果の詳細"
       actionItems: "必要な対応"

     重点項目:
       基本方針: "確認済みの内容"
       セキュリティ: "確認済みの要件"
       標準プラクティス: "確認済みの規定"
   ```

### 3.2 関係性のプレビュー

```yaml
relationships:
  memberToTeam:
    conflicts: "検出された矛盾"
    overrides: "上書き設定"
    customizations: "カスタマイズ範囲"

  teamToProject:
    conflicts: "検出された矛盾"
    extensions: "チーム独自の拡張"
    compliance: "遵守状況"

  overall:
    consistency: "全体の一貫性"
    priority: "優先順位の明確さ"
    dependencies: "依存関係の状態"
```

## 4. エラー防止メカニズム

### 4.1 階層別チェック

1. メンバールール
   - 理解度の定期確認
   - カスタマイズの妥当性確認
   - 上書き設定の検証

2. チームルール
   - メンバールールとの整合性
   - 拡張の妥当性確認
   - 共通規約の遵守確認

3. プロジェクトルール
   - 基本方針との整合性
   - セキュリティ要件の遵守
   - 標準化の維持確認

### 4.2 統合チェック

1. 階層間の整合性
   - 優先順位の正確性
   - 依存関係の健全性
   - 矛盾の有無

2. 運用面の検証
   - 実装の容易さ
   - メンテナンスの効率
   - 拡張の柔軟性

## 5. 継続的改善プロセス

### 5.1 階層別の改善

1. メンバーレベル
   - 個人設定の最適化
   - カスタマイズの改善
   - 効率化の提案

2. チームレベル
   - 共通プラクティスの改善
   - ワークフローの最適化
   - コミュニケーションの効率化

3. プロジェクトレベル
   - 基本方針の見直し
   - セキュリティ強化
   - 標準化の推進

### 5.2 統合的な改善

1. プロセス全体
   - 理解度確認の効率化
   - 関係性把握の改善
   - エラー防止の強化

2. ドキュメント
   - 説明の明確化
   - 例示の充実
   - 構造の最適化