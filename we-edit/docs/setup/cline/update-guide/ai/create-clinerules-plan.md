# AI用 .clinerules 作成計画書の作り方

## 0. 重要な前提

- 計画書は作業開始前に必ず作成すること
- 各階層のルールの理解度を確認すること
- ルール間の関係性を把握すること

## 1. 理解度確認プロセス

### 1.0 計画書作成の前提確認

#### 1.0.1 ファイル構造の確認

1. detail/ディレクトリの最新状態確認

   ```bash
   list_files docs/setup/cline/rules/detail --recursive
   ```

2. ディレクトリ構造の把握

   ```mermaid
   graph TD
       A[個人ルール<br>00-personal.md] -->|構造の基準| D[計画書]
       B[チームルール<br>01-team.md] -->|チーム要素| D
       C[プロジェクトルール<br>02-project.md] -->|プロジェクト要素| D
       D -->|反映| E[プレビュー]
   ```

### 1.1 メンバールール確認（最優先）

#### 1.1.1 テンプレート適用

- docs/setup/cline/rules/00-personal.md の構造を厳密に遵守

#### 1.1.2 必須セクション

- 確認対象のルール
- 理解度判定基準
- 重点確認項目

#### 1.1.3 エラー防止

- パスの存在確認
- 内容の整合性確認
- 依存関係の検証

### 1.2 チームルール確認（次優先）

#### 1.2.1 テンプレート適用

- docs/setup/cline/rules/01-team.md の構造を厳密に遵守

#### 1.2.2 必須セクション

- 確認対象のルール
- 理解度判定基準
- 重点確認項目

#### 1.2.3 エラー防止

- パスの存在確認
- 内容の整合性確認
- 依存関係の検証

### 1.3 プロジェクトルール確認（基盤）

#### 1.3.1 テンプレート適用

- docs/setup/cline/rules/02-project.md の構造を厳密に遵守

#### 1.3.2 必須セクション

- 確認対象のルール
- 理解度判定基準
- 重点確認項目

#### 1.3.3 エラー防止

- パスの存在確認
- 内容の整合性確認
- 依存関係の検証

## 2. 計画書の構造

### 2.1 共通実装要素

```yaml
共通構造:
  テンプレート適用:
    - 対象ファイルパスの明示
    - 構造の厳密な遵守
    - フォーマットの統一

  必須セクション:
    確認対象ルール:
      - 具体的なファイルパス
      - 存在確認手順
      - バージョン確認

    理解度判定:
      - 完全理解の基準
      - 部分理解の基準
      - 不十分の基準

    重点確認項目:
      - 層固有の要件
      - 依存関係
      - 例外処理
```

### 2.2 層別の固有要件

````yaml
メンバールール:
  固有要件:
    - 個人環境設定
    - 作業習慣
    - ツール設定

チームルール:
  固有要件:
    - チームプラクティス
    - コミュニケーション方針
    - レビュープロセス

プロジェクトルール:
  固有要件:
    - プロジェクト方針
    - セキュリティ要件
    - 標準規約
### 2.3 検証計画セクション

```markdown
## 3. 検証計画

### 3.1 理解度の確認

- メンバールールの理解度
- チームルールとの整合性
- プロジェクトルールの遵守

### 3.2 機能の確認

- 設定の動作確認
- エラー検出
- パフォーマンス確認
````

### 2.4 バイリンガル対応

```markdown
## 4. バイリンガル対応計画

### 4.1 言語バージョン管理

- 日本語版（.clinerules.ja）
- 英語版（.clinerules）

### 4.2 品質管理

- 内容の一貫性
- 文脈の保持
- 技術用語の統一

### 4.3 英語版（.clinerules）

1. 変換方針
   - トークン削減アプローチ
   - 文脈維持戦略
   - 技術用語の扱い
```

```

## 3. エラー防止メカニズム

### 3.1 事前確認

1. 構造検証

- ディレクトリ構造の整合性
- ファイルの存在確認
- 命名規則の遵守

2. 内容検証

- セクション構造の確認
- 必須要素の確認
- 参照の正確性

3. 更新管理
- 変更の記録
- バックアップの作成
- 履歴の保持

### 3.2 実行時確認

1. 一貫性確認

- 各層での統一性
- フォーマットの一貫性
- 参照の整合性

2. エラー検出
- 構文エラー
- 論理エラー
- 依存関係エラー

### 3.4 バイリンガル対応のエラー防止

1. 日本語版の検証

- 内容の完全性確認
- 記述の明確性確認
- フォーマットの一貫性
### 3.3 完了確認
2. 英語版の検証

- トークン効率の検証
- 文脈維持の確認
- 技術用語の適切性

3. バイリンガル整合性
- 内容の対応関係
- 重要ポイントの反映
- 変更管理の手順

1. 最終検証

- 全セクションの完全性
- すべての参照の有効性
- エラー不在の確認

2. 承認プロセス
- レビュー実施
- フィードバック対応
- 最終承認取得

```
