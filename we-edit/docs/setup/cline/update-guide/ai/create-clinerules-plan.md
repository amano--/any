# AI用 .clinerules 作成計画書の作り方

## 0. 重要な前提

- 計画書は作業開始前に必ず作成すること
- 各階層のルールの理解度を確認すること
- ルール間の関係性を把握すること

## 1. 理解度確認プロセス

### 1.0 参照ルールファイル

計画書作成時は以下のファイルを必ず確認すること：

1. 個人ルール設計
   ```
   docs/setup/cline/rules/00-personal.md
   ```
   - 個人ルールの基本構造
   - 理解度確認プロセス
   - エラー対応方法

2. チームルール設計
   ```
   docs/setup/cline/rules/01-team.md
   ```
   - チームルールの基本構造
   - チーム内での位置づけ
   - エラー防止メカニズム

3. プロジェクトルール設計
   ```
   docs/setup/cline/rules/02-project.md
   ```
   - プロジェクトルールの構造
   - メモリバンク連携
   - セキュリティ要件

### 1.1 メンバールール確認（最優先）

1. 確認対象
   ```
   docs/team/[teamName]/member/[userName]/rules/
   ```

2. 確認基準
   - 完全理解：次へ進む
   - 部分的理解：不足部分を再確認
   - 不十分：全体を再読了

3. 重点項目
   - 個人開発環境設定
   - 個人ワークフロー
   - プラグイン設定

### 1.2 チームルール確認（次優先）

1. 確認対象
   ```
   docs/team/[teamName]/rules/
   ```

2. 確認基準
   - 完全理解：次へ進む
   - 部分的理解：メンバールールとの関係を再確認
   - 不十分：全体を再検討

3. 重点項目
   - チーム開発プラクティス
   - チームワークフロー
   - コミュニケーションルール

### 1.3 プロジェクトルール確認（基盤）

1. 確認対象
   ```
   docs/setup/cline/rules/detail/
   ```

2. 確認基準
   - 完全理解：実装へ進む
   - 部分的理解：他階層との関係を再確認
   - 不十分：全階層を再検討

3. 重点項目
   - プロジェクト方針
   - セキュリティ要件
   - 標準プラクティス

## 2. 計画書の構造

### 2.1 前提確認セクション

```markdown
# .clinerules 作成計画書

## 1. 理解度確認状況
### 1.1 メンバールール
- 確認状況：[完了/未完了]
- 理解度：[完全/部分的/不十分]
- 特記事項：
  - [技術特性]
  - [作業スタイル]
  - [重要な注意点]

### 1.2 チームルール
[同様の形式で記述]

### 1.3 プロジェクトルール
[同様の形式で記述]

## 2. 作業計画
### 2.1 情報収集フェーズ
- [チームルール確認手順]
- [プロジェクトルール確認手順]

### 2.2 設計フェーズ
- [.clinerules構造設計]
- [設定項目の整理]
- [依存関係の分析]

### 2.3 検証フェーズ
- [セキュリティ検証計画]
- [機能検証計画]
```

### 2.2 作業計画セクション

1. 情報収集フェーズ
   - メンバールールの確認と理解
   - チームルールの確認と統合
   - プロジェクトルールの確認

2. 設計フェーズ
   - 構造の決定
   - 設定項目の特定
   - 依存関係の整理

3. 実装フェーズ
   - 設定の実装
   - テストと検証
   - レビュー準備

### 2.3 検証計画セクション

1. 理解度の確認
   - メンバールールの理解度
   - チームルールとの整合性
   - プロジェクトルールの遵守

2. 機能の確認
   - 設定の動作確認
   - エラー検出
   - パフォーマンス確認

## 3. エラー防止メカニズム

### 3.1 確認ポイント

1. 作業開始時
   - 各階層のルール理解度
   - ルール間の関係性
   - 作業環境の準備

2. 作業中
   - 理解度の維持確認
   - エラーの早期検出
   - 問題の即時報告

3. 完了時
   - 全項目の確認
   - 整合性の検証
   - 承認の取得

### 3.2 エラー対応

1. 理解度不足
   - 再確認プロセス開始
   - 質問項目の整理
   - 承認要件の確認

2. 矛盾検出
   - 作業の一時停止
   - 問題の報告
   - 解決策の提示

### 3.3 実装前の検証項目

1. ルール構造の検証
   - 各ルールファイルとの整合性
   - 階層構造の妥当性
   - 優先順位の確認

2. 内容の検証
   - 必須項目の充足
   - 個別設定の反映
   - メモリバンク連携の確認

3. セキュリティ検証
   - 機密情報の排除
   - アクセス権の設定
   - エラー処理の実装

## 4. 作業記録

### 4.1 ログの保存場所

```
docs/setup/cline/logs/ai/advice/[teamName]/[userName]/YYYY-MM/
```

### 4.2 記録内容

1. 計画書
   ```
   YYYY-MM-DD-HH-clinerules-plan.md
   ```

2. プレビュー
   ```
   YYYY-MM-DD-HH-clinerules-preview.md
   ```

3. 改善提案
   ```
   YYYY-MM-DD-HH-mm-[改善内容の英名].md
   ```

## 5. 継続的改善

### 5.1 改善プロセス

1. フィードバック収集
   - ユーザーからの意見
   - エラー発生パターン
   - 効率化ポイント

2. プロセス最適化
   - 手順の見直し
   - テンプレートの改善
   - チェックリストの更新

### 5.2 知見の共有

1. 効果的な手法
   - 理解度確認方法
   - エラー防止策
   - 効率化テクニック

2. 注意点
   - よくある問題
   - 解決方法
   - 予防措置
