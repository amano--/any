# AI用 .clinerules 作成計画書の作り方

## 0. 前提条件

- 計画書は作業開始前に必ず作成すること
- ユーザーとの対話を通じて段階的に進めること
- 各ステップで理解度を確認すること

## 1. 計画書の構造

### 1.1 基本構成

```markdown
# .clinerules 作成計画書

## 1. 前提確認
[ユーザー特性とルール階層の確認]

## 2. 作業計画
[具体的な作業ステップ]

## 3. プレビュー計画
[.clinerules構造のプレビュー]

## 4. 検証計画
[各段階での確認項目]

## 5. リスク対策
[想定される問題と対応策]
```

### 1.2 必須項目

1. ユーザー特性の把握
   ```yaml
   個人情報:
     基本情報:
       - チーム名
       - ユーザー名
       - 役割

     技術特性:
       - 技術レベル
       - 得意分野
       - 不得意分野

     作業スタイル:
       - プログラミングスキル
       - AIとの協業方法
       - 品質管理アプローチ
   ```

2. 作業ステップ
   - 具体的な手順
   - 区切りのポイント
   - 報告タイミング

3. 検証項目
   - 理解度の確認方法
   - エラー検出のポイント
   - 整合性の確認方法

## 2. 計画書作成手順

### 2.1 情報収集フェーズ

1. ルール階層の確認
   ```
   docs/team/[teamName]/member/[userName]/rules/  # メンバールール
   docs/team/[teamName]/rules/                    # チームルール
   docs/setup/cline/rules/detail/                 # プロジェクトルール
   ```

2. メンバー情報の収集
   - 00-basic.mdから開始
   - 個人情報セクションの確認
   - 重要セクションの理解
   - タスク関連設定の把握

3. サンプルファイルの確認
   - 既存の.clinerules
   - 類似の設定ファイル
   - 関連ドキュメント

### 2.2 プレビュー計画フェーズ

1. .clinerules構造の設計
   ```yaml
   memberRules:
     personalInfo: [個人情報]
     characteristics: [特性]
     workflowSettings: [作業設定]

   teamRules:
     commonPractices: [共通規約]
     workflowRules: [作業ルール]

   projectRules:
     basicSettings: [基本設定]
     securityRules: [セキュリティ]
   ```

2. プレビューファイルの配置
   ```
   docs/setup/cline/logs/ai/advice/[teamName]/[userName]/YYYY-MM/YYYY-MM-DD-HH-clinerules-preview.md
   ```

### 2.3 検証計画フェーズ

1. 理解度確認ポイント
   - メンバールールの完全理解
   - チームルールとの整合性
   - プロジェクトルールの遵守

2. エラー検出ポイント
   - 個人特性との矛盾
   - セキュリティリスク
   - 実装上の問題

3. 報告タイミング
   - 情報収集完了時
   - プレビュー作成時
   - 問題検出時

## 3. 実装のポイント

### 3.1 段階的アプローチ

1. メンバー理解フェーズ
   - 個人情報の正確な把握
   - 作業スタイルの理解
   - 特性の文書化

2. ルール統合フェーズ
   - 個人設定の反映
   - チームルールとの調整
   - プロジェクトルールの適用

3. プレビュー作成フェーズ
   - 構造の明確化
   - 設定の具体化
   - レビュー項目の準備

### 3.2 報告形式

1. 進捗報告
   ```markdown
   ## 現在の進捗
   1. 完了した作業
      - [作業内容]
      - [達成状況]
   
   2. 次のステップ
      - [予定している作業]
      - [必要な確認事項]
   ```

2. 問題報告
   ```markdown
   ## 検出された問題
   1. 問題の内容
      - [具体的な説明]
      - [影響範囲]
   
   2. 対応案
      - [提案する解決策]
      - [必要な判断事項]
   ```

## 4. リスク管理

### 4.1 一般的なリスク

1. 理解度不足
   - 再確認プロセス
   - 質問の明確化
   - 段階的な確認

2. 矛盾の検出
   - 即時報告手順
   - 解決策の提示
   - 承認プロセス

### 4.2 特殊なリスク

1. 個人特性との不整合
   - 早期検出方法
   - 調整プロセス
   - 代替案の準備

2. セキュリティ関連
   - チェック項目
   - 報告手順
   - 対策実施

## 5. 継続的改善

### 5.1 フィードバックの収集

1. ユーザーからの意見
   - 使用感
   - 問題点
   - 改善要望

2. 運用データの分析
   - エラー発生パターン
   - 効率化ポイント
   - 改善効果

### 5.2 改善の実施

1. 定期的な見直し
   - 手順の最適化
   - テンプレートの更新
   - チェックリストの改訂

2. 緊急対応
   - 問題の即時対応
   - 暫定対策の実施
   - 恒久対策の検討