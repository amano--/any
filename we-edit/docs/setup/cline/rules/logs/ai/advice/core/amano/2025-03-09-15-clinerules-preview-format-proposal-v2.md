# .clinerules プレビューフォーマット改善提案

## 1. 提案内容

個人ルールの理解度確認プロセスを中心とした.clinerules プレビューフォーマットを提案します。

## 2. 変更内容

### 2.1 理解度確認ベースのプレビュー構造

```markdown
# .clinerules プレビュー

## 1. 個人ルール（最優先）

### 1.1 理解度確認結果

#### メンバールールの確認状況
- 確認対象：docs/team/[teamName]/member/[userName]/rules/
- 確認完了：[ファイルリスト]
- 理解度判定：[完全/部分的/不十分]

#### 重点確認項目の結果

1. 個人開発環境の設定
   ```yaml
   editor:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]

   tools:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]

   shortcuts:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]
   ```

2. 個人ワークフロー
   ```yaml
   commitStyle:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]

   branchStrategy:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]

   reviewProcess:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]
   ```

3. プラグイン設定
   ```yaml
   plugins:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]

   customSettings:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]

   integrations:
     現在値: [値]
     確認状況: [済/未]
     注意点: [特記事項]
   ```

### 1.2 エラー防止状況

```yaml
priorityCheck:
  status: [完了/未完了]
  notes: [注意点]

conflictDetection:
  status: [完了/未完了]
  conflicts: [検出された矛盾]

clarification:
  status: [完了/未完了]
  questions: [未解決の質問]
```

[以下、チームルール、プロジェクトルールと続く]
```

### 2.2 理解度確認プロセスの組み込み

1. 確認フロー
   ```yaml
   confirmationFlow:
     step1:
       action: "メンバールール確認"
       status: [完了/進行中/未着手]
       result: [理解度判定結果]

     step2:
       action: "チームルール確認"
       status: [待機/進行中/未着手]
       blocker: [ある場合は理由]

     step3:
       action: "プロジェクトルール確認"
       status: [待機/進行中/未着手]
       blocker: [ある場合は理由]
   ```

2. 再確認プロセス
   ```yaml
   reconfirmation:
     trigger: [理解度不足の場合]
     target: [再確認が必要な項目]
     status: [必要/不要]
   ```

## 3. 改善のポイント

1. 理解度確認中心の構造
   - 各項目の理解度を明示
   - 確認状況の可視化
   - 問題点の早期発見

2. 段階的な確認プロセス
   - 理解度に応じた進行
   - ブロッカーの明確化
   - 再確認の判断基準

3. エラー防止の強化
   - 優先度の確認
   - 矛盾の検出
   - 不明点の管理

## 4. 実装手順

1. 理解度確認フェーズ
   - メンバールールの読み込み
   - 重点項目の確認
   - 理解度の判定

2. プレビュー生成フェーズ
   - 確認結果の構造化
   - YAML形式への変換
   - 状態の可視化

3. 検証フェーズ
   - 理解度の再確認
   - エラー検出
   - 完全性の確認

## 5. 期待される効果

1. 品質向上
   - 理解度の確実な把握
   - エラーの早期発見
   - 設定の適切性確保

2. 効率化
   - 確認プロセスの明確化
   - 問題箇所の特定
   - 再確認の効率化

3. 保守性
   - 状態の可視化
   - 履歴の管理
   - 更新の容易さ