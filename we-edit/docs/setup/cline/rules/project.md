# プロジェクトルール設定

## 言語方針

### 思考と返答とコミット

- AIの思考は英語で行う
- AIの返答は日本語で行う
- コミットメッセージは日本語で記述
- プルリクエストのタイトルとボディは日本語で記述

# セキュリティ

## 機密ファイル

以下のファイルの読み取りと変更を禁止：

- .env ファイル
- APIキー、トークン、認証情報を含むすべてのファイル

## セキュリティ対策

- 機密ファイルを絶対にコミットしない
- シークレット情報は環境変数を使用する
- ログや出力に認証情報を含めない

## 1. プロンプトトリガー一覧

### 1.1 定期更新トリガー

- トリガー：
  1. 週報の定時更新
     - システムトリガー時刻: 9:00, 11:00, 13:00, 15:00, 17:00, 19:00, 21:00
     - 手動トリガー: 「週報更新」
  2. 作業終了時
     - 手動トリガー: 「おつかれ」
     - 実行内容:
       - 知見のまとめ作成
       - メモリバンクの更新
       - ADR作成判断と作成（必要な場合のみ）
       - 週報の最終更新
       - コミットプッシュ
- 詳細：[weekly-report-update.md](docs/setup/cline/rules/task/weekly-report-update.md)

### 1.2 知見更新時（自動検知または「知見更新」）

- トリガー：
  1. 自動検知：以下のキーワードを含む文章を検出した場合
     - 「課題が明確になりました」
     - 「重要な発見がありました」
     - 「知見が得られました」
     - 「改善点が見つかりました」
  2. 手動：「知見更新」というキーワード
- 詳細：[knowledge-update.md](docs/setup/cline/rules/task/knowledge-update.md)

### 1.3 ADR作成時（自動検知または「ADR作成」）

- トリガー：
  1. 自動検知：以下のキーワードを含む文章を検出した場合
     - 「設計方針を決定しました」
     - 「アーキテクチャの変更を決定」
     - 「重要な決定を行いました」
     - 「〜に変更することにしました」
     - 「〜という方針で進めます」
  2. 手動：「ADR作成」というキーワード
- 詳細：[adr-creation.md](docs/setup/cline/rules/task/adr-creation.md)

### 1.4 ガイドライン改訂時（自動検知または「ガイド改訂」）

- トリガー：
  1. 自動検知：以下のキーワードを含む文章を検出した場合
     - 「ガイドラインの問題点を発見しました」
     - 「ガイドラインの改善が必要です」
     - 「ガイドラインの更新を提案します」
     - 「ガイドラインの見直しが必要です」
  2. 手動：「ガイド改訂」というキーワード
- 詳細：[guideline-revision.md](docs/setup/cline/rules/task/guideline-revision.md)

## 2. 作業開始前のルール確認

AIは作業開始時に、以下のドキュメントの内容理解を確認すること：

1. docs/setup/cline/rules/detail/clinerules-best-practices.md
2. docs/setup/cline/rules/detail/git-workflow.md

### 理解度判定基準

1. AIが以下の内容を完全に理解している場合
   → そのまま作業を開始してよい

2. AIが以下の内容を部分的にしか理解していない場合
   → 理解が不足している部分を再読了してから作業を開始すること

3. AIが以下の内容をほとんど理解していない場合
   → ドキュメント全体を再読了してから作業を開始すること

### 理解度確認項目

1. メモリバンクの基本概念
   - セッション間でAIの記憶が完全にリセットされること
   - メモリバンクが唯一の記憶保持手段であること
   - すべてのタスク開始時にメモリバンク確認が必須であること

2. メモリバンクの構造と更新
   - projectbrief.mdの役割と重要性
   - activeContext.mdの更新タイミング
   - 各コアファイルの目的と関係性

3. ドキュメント更新の原則
   - 新しいパターン発見時の更新
   - 重要な変更実装後の更新
   - コンテキスト明確化時の更新

4. プロジェクトインテリジェンス
   - .clinerules ファイルの目的
   - プロジェクト固有パターンの記録方法
   - 学習内容の活用方法

5. Git運用ルール
   - コミットメッセージ規約の理解
   - プルリクエスト作成規約の理解
   - Gitワークフローの把握

6. ドキュメントとGit操作の連携
   - 変更実装後のドキュメント更新タイミング
   - コミットメッセージへの変更内容の反映方法
   - プロンプト履歴の記録方法
