# プロジェクトルール設定

## 言語方針

### 返答とコミット

- AIの返答は日本語で行う
- コミットメッセージは日本語で記述
- プルリクエストのタイトルとボディは日本語で記述

# セキュリティ

## 機密ファイル

以下のファイルの読み取りと変更を禁止：

- .env ファイル
- APIキー、トークン、認証情報を含むすべてのファイル

## セキュリティ対策

- 機密ファイルを絶対にコミットしない
- シークレット情報は環境変数を使用する
- ログや出力に認証情報を含めない

## 1. プロンプトトリガー一覧

### 1.1 定期更新トリガー

1. 週報の定時更新（詳細: [weekly-report-update.md](docs/setup/cline/rules/task/weekly-report-update.md)）
   - システムトリガー時刻: 9:00, 11:00, 13:00, 15:00, 17:00, 19:00, 21:00
   - 手動トリガー: 「週報更新」

2. 作業終了時（トリガー: 「おつかれ」）
   - 知見のまとめ作成
   - メモリバンクの更新
   - ADR作成判断と作成（必要な場合のみ）
   - 週報の最終更新
   - コミットプッシュ

### 1.2 知見更新時（自動検知または「知見更新」）

- トリガー：
  1. 自動検知：以下のキーワードを含む文章を検出した場合
     - 「課題が明確になりました」
     - 「重要な発見がありました」
     - 「知見が得られました」
     - 「改善点が見つかりました」
  2. 手動：「知見更新」というキーワード
- 処理：知見のまとめ作成のみ実行

### 1.3 ADR作成時（自動検知または「ADR作成」）

- トリガー：
  1. 自動検知：以下のキーワードを含む文章を検出した場合
     - 「設計方針を決定しました」
     - 「アーキテクチャの変更を決定」
     - 「重要な決定を行いました」
     - 「〜に変更することにしました」
     - 「〜という方針で進めます」
  2. 手動：「ADR作成」というキーワード
- 処理：ADR作成のみ実行

### 1.4 ガイドライン改訂時（トリガー: 「ガイド改訂」）

1. 作業の振り返りと熟考
2. 既存ガイドラインを踏襲した改訂

## 2. 各作業の詳細

詳細な週報の更新手順については [weekly-report-update.md](docs/setup/cline/rules/task/weekly-report-update.md) を参照してください。

### 2.1 知見のまとめ作成

```
場所: docs/team/[teamName]/logs/ai/knowledge/[開発フェーズ]/YYYY-MM/YYYY-MM-DD-HH-[内容のタイトルの英名].md
手順:
1. まとめ作業前の振り返り
   - 実施内容の全体像を確認
   - 重要な判断ポイントを列挙
   - 発生した課題を整理

2. 熟考のプロセス
   - 各判断の根拠を深掘り
   - 選択肢と比較検討内容を整理
   - 得られた教訓を分析

3. まとめ作成
   - 具体的な課題と解決策
   - 技術的な判断とその根拠
   - 改善案や代替案の検討内容
   - 次のステップへの提案
```

### 2.2 メモリバンクの更新

### 2.3 ADR作成

```
場所: docs/team/[teamName]/logs/ai/adr/[ADRステータス]/[開発フェーズ]/YYYY/YYYY-MM-DD-[決定内容の英名].md

ADRステータス:
- proposed: 提案中
- accepted: 承認済み
- rejected: 却下
- deprecated: 廃止
- superseded: 代替案採用

条件: 以下のいずれかに該当する決定の場合に作成
1. アーキテクチャに影響する決定
   - システム構造の変更
   - コンポーネント間の関係性の変更
   - 重要なインターフェースの変更

2. 重要なパターンや規約の変更
   - 設計パターンの採用
   - コーディング規約の変更
   - 命名規則の変更

3. チーム間の協業方法の変更
   - 開発プロセスの変更
   - コミュニケーション方法の変更
   - 役割分担の変更

4. システム全体に影響する技術選定
   - フレームワークの選定
   - ライブラリの採用
   - ツールチェーンの変更

記録項目：
1. ステータス（proposed/accepted/rejected/deprecated/superseded）
2. 決定に至った背景と理由
3. 検討した代替案
4. 影響範囲の分析
5. 実装手順
```

### 2.4 週報作成・更新

詳細な週報の作成・更新手順については [weekly-report-update.md](/docs/setup/cline/rules/task/weekly-report-update.md) を参照してください。
