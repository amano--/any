# 分析・改善フェーズのトラブルシューティングガイド

## AIとのコミュニケーションの課題

### 1. 抽象的な回答しか得られない

#### 問題の例
```markdown
❌ "コードの品質を改善したいです。アドバイスをお願いします。"
```

#### 解決アプローチ
1. **具体的な文脈を提供**
```markdown
✅ "Martin Fowlerとして、以下のコードベースの改善案を提示してください：
- TypeScriptで書かれたReactアプリケーション
- コードベースサイズ：約50,000行
- 主な課題：重複コード、巨大なコンポーネント
- チーム規模：8名（経験1-5年）
- CI/CD環境あり"
```

2. **期待する成果物を明確化**
```markdown
期待する成果物：
1. 技術的負債の分布マップ
2. 優先度付きの改善項目リスト
3. 具体的なリファクタリング手順
4. 進捗測定方法の提案
```

### 2. 生成された内容が現実的でない

#### 問題の例
```markdown
❌ "全てのコードを書き直してマイクロサービス化することを提案されました"
```

#### 解決アプローチ
1. **制約条件の明示**
```markdown
✅ "Sam Newmanとして、以下の制約の下でのマイクロサービス化計画を提案してください：
- 既存システムの稼働を維持する必要あり
- 3ヶ月ごとの段階的な移行が必要
- チームの学習曲線を考慮
- 限られたリソース（開発者6名）"
```

2. **段階的なアプローチの要求**
```markdown
マイクロサービス化の段階：
1. 現状分析と対象選定
2. パイロットサービスの特定
3. 段階的な移行計画
4. リスク軽減策の策定
```

## 生成された資料の品質課題

### 1. 詳細度が不十分

#### 問題の例
❌ 一般的な改善提案のみで、具体的な実装手順がない

#### 解決アプローチ
1. **詳細度の指定**
```markdown
✅ "以下の詳細度で改善計画を提示してください：
1. 概要レベル：全体の方向性
2. 計画レベル：具体的なステップ
3. 実装レベル：コードサンプルと例
4. 検証レベル：テスト戦略"
```

2. **具体例の要求**
```markdown
✅ "各改善提案について以下を含めてください：
- Before/Afterのコード例
- 具体的な実装手順
- 想定される課題と対策
- 検証方法"
```

### 2. 一貫性の欠如

#### 問題の例
❌ 異なる専門家の提案が矛盾している

#### 解決アプローチ
1. **前提条件の共有**
```markdown
✅ "前回のEric Evansによる分析結果を踏まえて、
Martin Fowlerとしての改善提案をお願いします："
[前回の分析結果を添付]
```

2. **統合的なアプローチの要求**
```markdown
✅ "以下の観点を統合した提案をお願いします：
- Eric Evansのドメインモデル
- Martin Fowlerのリファクタリングパターン
- Robert C. Martinのクリーンアーキテクチャ"
```

## プロジェクトでの適用課題

### 1. チームの理解度の差

#### 問題の例
❌ 提案された改善策をチーム全体が理解できない

#### 解決アプローチ
1. **段階的な説明の要求**
```markdown
✅ "以下の3つのレベルでの説明をお願いします：
1. 概念レベル：全員向けの概要説明
2. 実践レベル：実装者向けの詳細説明
3. 応用レベル：上級者向けの発展的内容"
```

2. **チーム構成に応じた調整**
```markdown
✅ "以下のチーム構成を考慮した説明をお願いします：
- シニア開発者：2名
- ミドル開発者：3名
- ジュニア開発者：3名"
```

### 2. 既存システムとの整合性

#### 問題の例
❌ 提案された改善策が既存システムと適合しない

#### 解決アプローチ
1. **システム制約の明確化**
```markdown
✅ "以下の制約を考慮した提案をお願いします：
- レガシーシステムとの統合要件
- 既存のデプロイメントプロセス
- 運用チームのスキルセット
- 監視システムとの互換性"
```

2. **段階的な移行計画の要求**
```markdown
✅ "以下の段階での実装計画をお願いします：
1. 既存システムの影響分析
2. 最小限の変更での開始
3. 段階的な機能移行
4. 完全な統合までのロードマップ"
```

## ベストプラクティス

### 1. プロンプト作成時
- 具体的な文脈の提供
- 制約条件の明確化
- 期待する成果物の明示
- 段階的なアプローチの要求

### 2. 結果のレビュー時
- 実現可能性の確認
- チーム全体での理解度確認
- 既存システムとの整合性確認
- リスクの評価

### 3. 実装計画時
- 段階的な適用
- フィードバックの収集
- 調整の柔軟性
- 成果の測定

## チェックリスト

### プロンプト作成前
- [ ] 課題の具体的な定義
- [ ] 制約条件の整理
- [ ] 期待する成果物の明確化
- [ ] チーム状況の把握

### 生成結果の評価時
- [ ] 提案の実現可能性
- [ ] チームの理解度
- [ ] 既存システムとの整合性
- [ ] リスクの特定

### 実装計画時
- [ ] 段階的なアプローチ
- [ ] フィードバックの仕組み
- [ ] 測定可能な成果指標
- [ ] 調整の余地