# 個人設定ルール改善提案

## 1. 変更内容

```diff
  # 個人設定ルール
  
- ## 1. 個人ルールの設定方法
+ ## 1. ルールの階層構造
+ 
+ AIは以下の順序でルールを読み込み、.clinerules を作成すること：
+ 
+ 1. メンバールール（個人固有の設定）
+    ```bash
+    docs/team/[teamName]/member/[userName]/rules/
+    例：docs/team/core/member/amano/rules/
+    ```
+ 
+ 2. チームルール（チームメンバーとして共通の設定）
+    ```bash
+    docs/team/[teamName]/rules/
+    例：docs/team/core/rules/
+    ```
+ 
+ 3. プロジェクトルール（プロジェクトメンバーとして共通の設定）
+    ```bash
+    docs/setup/cline/rules/detail/
+    ```
+ 
+ ## 2. ルール読み込みの原則
+ 
+ ### 2.1 読み込み順序の重要性
+ 
+ - メンバー -> チーム -> プロジェクトの順で読み込む
+ - 後から読み込まれたルールは、先に読み込まれたルールを上書きしない
+ - 各階層のルールは独立して管理される
+ 
+ ### 2.2 ルールの優先順位
+ 
+ 1. メンバールール（最優先）
+    - 個人の開発環境に特化した設定
+    - 個人のワークフロー最適化設定
+    - 個人のプラグイン設定
+ 
+ 2. チームルール（次優先）
+    - チーム共通の開発プラクティス
+    - チーム固有のワークフロー
+    - チーム内での標準化ルール
+ 
+ 3. プロジェクトルール（基盤）
+    - プロジェクト全体の基本ルール
+    - 共通の開発標準
+    - 基本的な運用ルール
+ 
+ ## 3. ルールファイルの管理
+ 
+ ### 3.1 メンバールール
+ 
+ - 配置場所：docs/team/[teamName]/member/[userName]/rules/
+ - 管理者：個人
+ - 目的：個人の開発環境最適化
+ 
+ ### 3.2 チームルール
+ 
+ - 配置場所：docs/team/[teamName]/rules/
+ - 管理者：チームリーダー
+ - 目的：チームの開発効率向上
+ 
+ ### 3.3 プロジェクトルール
+ 
+ - 配置場所：docs/setup/cline/rules/detail/
+ - 管理者：プロジェクト管理者
+ - 目的：プロジェクト全体の一貫性確保

- ## 2. ルールの更新方法
+ ## 4. ルールの更新フロー
+ 
+ ### 4.1 メンバールールの更新
+ 
+ 1. 個人の判断で更新可能
+ 2. チームルールと矛盾しないことを確認
+ 3. 変更をコミット
+ 
+ ### 4.2 チームルールの更新
+ 
+ 1. チームでの合意が必要
+ 2. プロジェクトルールとの整合性確認
+ 3. チームリーダーの承認
+ 
+ ### 4.3 プロジェクトルールの更新
+ 
+ 1. プロジェクト全体での検討
+ 2. 影響範囲の評価
+ 3. プロジェクト管理者の承認
```

## 2. 変更理由

1. ルールの階層構造の明確化
   - 3つの階層（メンバー/チーム/プロジェクト）の関係を明示
   - 各階層の役割と責任を明確化
   - 読み込み順序の重要性を強調

2. 管理体制の整理
   - 各階層の管理者を明確化
   - 更新フローを階層別に定義
   - 責任範囲を明確化

3. トークン効率の向上
   - 階層構造による明確な分類
   - 重複説明の削減
   - 参照関係の最適化

## 3. 概要

### 対象ファイル
docs/setup/cline/rules/00-personal.md

### 改善の動機
- ルールの階層構造を明確にする必要性
- メンバー、チーム、プロジェクトの関係性の整理
- 更新プロセスの体系化

### 期待される成果
- AIによる効率的なルール読み込み
- 明確な管理体制の確立
- 更新プロセスの効率化

## 4. 現状の課題

### 4.1 問題点
- ルールの階層構造が不明確
- 読み込み順序が明示されていない
- 更新プロセスが体系化されていない

### 4.2 影響範囲
- .clinerules生成プロセス
- ルール更新フロー
- チーム間の連携

## 5. 実装計画

### 5.1 実装手順
1. personal.mdの更新
2. 関連ドキュメントの参照関係確認
3. .clinerules生成スクリプトの確認

### 5.2 検証項目
- ルール読み込みの順序が正しいか
- 各階層の独立性が保たれているか
- 更新プロセスが明確か

## 6. リスク評価

### 6.1 潜在的な問題
- 既存の.clinerules生成との互換性
  → 段階的な移行で対応
- チーム間での調整の複雑化
  → 明確なガイドラインで対応

### 6.2 代替案
1. フラットな構造を維持
   - メリット：シンプルな管理
   - デメリット：柔軟性の低下

2. プロジェクト単位のみの管理
   - メリット：統一性の確保
   - デメリット：個別最適化が困難