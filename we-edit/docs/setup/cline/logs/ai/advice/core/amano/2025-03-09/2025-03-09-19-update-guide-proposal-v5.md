# 手順書改善提案 v5

## 1. update-clinerules.md の変更内容

### 追加するセクション

```diff
+ ## 1.5.2 計画書作成の事前チェック
+ 
+ 1. フォーマット確認手順
+    - 00-personal.md の構造を必ず確認
+    - 01-team.md の構造を必ず確認
+    - 02-project.md の構造を必ず確認
+ 
+ 2. チェックリスト
+    ```
+    [ ] 各ファイルの最新版を確認
+    [ ] セクション構造を確認
+    [ ] インデントを確認
+    [ ] 箇条書きスタイルを確認
+    ```
+
+ ### 4.2 プレビュー作成の事前チェック
+ 
+ 1. フォーマット確認
+    - 00-personal.md 形式での個人ルール
+    - 01-team.md 形式でのチームルール
+    - 02-project.md 形式でのプロジェクトルール
+ 
+ 2. 内容確認
+    ```
+    [ ] 3層構造の確認
+    [ ] 各層の整合性確認
+    [ ] 参照パスの正確性
+    ```
```

### 変更理由
1. フォーマット確認プロセスの明確化
   - 具体的なチェック項目を提供
   - 段階的な確認手順を明示
   - エラーの早期発見を促進

2. プレビュー作成時の品質向上
   - 3層構造の確実な実装
   - ファイル間の整合性確保
   - 参照の正確性担保

## 2. create-clinerules-plan.md の変更内容

### 追加するセクション

```diff
+ ## 1.0 計画書作成の前提確認
+ 
+ ### 1.0.1 確認する構造
+ 
+ ```mermaid
+ graph TD
+     A[個人ルール<br>00-personal.md] -->|構造の基準| D[計画書]
+     B[チームルール<br>01-team.md] -->|チーム要素| D
+     C[プロジェクトルール<br>02-project.md] -->|プロジェクト要素| D
+     D -->|反映| E[プレビュー]
+ ```
+ 
+ ### 1.0.2 フォーマットチェックリスト
+ 
+ 1. 00-personal.md の構造
+    - セクション1: 個人ルールの理解度確認
+    - セクション2: ルール階層での位置づけ
+    - セクション3: 理解度不足時の対応
+ 
+ 2. 01-team.md の構造
+    - セクション1: チームルールの理解度確認
+    - セクション2: ルール階層での位置づけ
+    - セクション3: 理解度不足時の対応
+ 
+ 3. 02-project.md の構造
+    - メモリバンクの概念
+    - ルールの更新原則
+    - Git運用ルール
+
+ ### 1.0.3 エラー防止の具体例
+ 
+ ```yaml
+ エラーパターン:
+   構造ミス:
+     - 誤: セクション番号の欠落
+     - 正: すべてのセクションに番号付与
+ 
+   インデントミス:
+     - 誤: ランダムなスペース
+     - 正: 一貫した階層構造
+ 
+   フォーマットミス:
+     - 誤: 独自の書式追加
+     - 正: 既存書式の踏襲
+ ```
```

### 変更理由
1. 計画書作成時の明確なガイダンス提供
   - 構造の可視化
   - 具体的なチェックリスト
   - エラーパターンの例示

2. フォーマットの統一性確保
   - 各ファイルの構造を明確化
   - チェックポイントの具体化
   - エラー防止の実例提供

## 3. 変更後の効果

### 3.1 作業効率の向上
- フォーマット確認の迅速化
- エラーの早期発見
- 修正作業の削減

### 3.2 品質の向上
- 一貫性のある文書生成
- ファイル間の整合性確保
- エラー発生リスクの低減

## 4. 実装方針

### 4.1 段階的な導入
1. フェーズ1: チェックリストの導入
2. フェーズ2: エラー防止メカニズムの追加
3. フェーズ3: 全体の最適化

### 4.2 フィードバックの収集
- 使用感の確認
- 問題点の特定
- 改善案の収集

## 5. 判断を仰ぎたい点

1. チェックリストの粒度は適切か
2. エラー防止の具体例は十分か
3. フォーマット確認手順は明確か

これらの変更により、より確実で効率的な.clinerules生成プロセスの実現を目指します。