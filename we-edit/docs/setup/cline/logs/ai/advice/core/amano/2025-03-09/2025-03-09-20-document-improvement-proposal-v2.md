# 手順書とテンプレート改善提案 v2

## 1. 改善の背景

### 1.1 現状の課題
- ファイル構造の動的確認が不足
- ルールテンプレートの標準化が必要
- フォーマットの一貫性維持が困難

### 1.2 改善の必要性
- 常に最新のファイル構造を確認
- テンプレートの明確な定義
- エラー防止の強化

## 2. 手順書の改善提案（update-clinerules.md）

### 2.1 ファイル構造確認セクションの修正

```markdown
## 1.0 前提確認

### 1.0.1 ファイル構造の確認

1. プロジェクトルール確認
   ```
   # docs/setup/cline/rules/detail/以下の最新状態を確認
   list_files docs/setup/cline/rules/detail --recursive
   
   # 各サブディレクトリの構造を確認
   list_files docs/setup/cline/rules/detail/basic
   list_files docs/setup/cline/rules/detail/trigger-task
   ```

2. すべてのファイルパスを番号付きで列挙
   - basic/以下のファイル（番号順）
   - trigger-task/以下のファイル（アルファベット順）
```

### 2.2 継続的なファイル構造監視の追加

```markdown
### 1.0.2 構造変更の検知

1. 新規ファイルの確認
   - 追加されたファイルの検出
   - 新規テンプレートの適用確認

2. 更新の反映
   - 構造変更の記録
   - パス一覧の更新
   - 番号付けの調整
```

## 3. ルールテンプレートの清書

### 3.1 個人ルール（00-personal.md）

```markdown
# 個人ルール設定

## 1. 個人ルールの理解度確認

### 1.1 確認対象のルール

AIは作業開始時に、以下の順序でルールを確認すること：

1. メンバー固有のルール
   docs/team/[teamName]/member/[userName]/rules/

### 1.2 理解度判定基準

1. メンバールールを完全に理解している場合
   → そのままチームルールの確認に進む

2. メンバールールを部分的にしか理解していない場合
   → 不足している部分を再確認してからチームルールの確認に進む

3. メンバールールをほとんど理解していない場合
   → すべてのメンバールールを再読了してからチームルールの確認に進む

### 1.3 重点確認項目

1. 個人開発環境の設定
   - エディタ設定
   - ツール設定
   - ショートカット設定

2. 個人ワークフロー
   - コミットスタイル
   - ブランチ運用
   - レビュープロセス

3. プラグイン設定
   - 使用プラグイン
   - カスタム設定
   - 連携設定

## 2. エラー防止

### 2.1 確認ポイント
- ルール間の整合性
- 設定の有効性
- 動作の確認

### 2.2 対応手順
1. エラーの検出
2. 原因の特定
3. 修正案の提示
4. 承認の取得
```

### 3.2 チームルール（01-team.md）

```markdown
# チームルール設定

## 1. チームルールの理解度確認

### 1.1 確認対象のルール

AIは個人ルールの確認後、以下のチームルールを確認すること：

1. チーム共通のルール
   docs/team/[teamName]/rules/

### 1.2 理解度判定基準

1. チームルールを完全に理解している場合
   → そのままプロジェクトルールの確認に進む

2. チームルールを部分的にしか理解していない場合
   → 不足している部分を再確認してからプロジェクトルールの確認に進む

3. チームルールをほとんど理解していない場合
   → すべてのチームルールを再読了してからプロジェクトルールの確認に進む

### 1.3 重点確認項目

1. チーム開発プラクティス
   - コーディング規約
   - レビュー基準
   - 品質基準

2. チームワークフロー
   - ブランチ戦略
   - マージ基準
   - デプロイフロー

3. チームコミュニケーション
   - 報告ルール
   - 相談プロセス
   - ドキュメント管理

## 2. エラー防止

### 2.1 チーム間の整合性
- メンバー間の設定統一
- ワークフローの標準化
- コミュニケーションの円滑化

### 2.2 問題解決プロセス
1. 問題の報告
2. チーム内での共有
3. 解決策の検討
4. 実装と検証
```

### 3.3 プロジェクトルール（02-project.md）

```markdown
# プロジェクトルール設定

## 1. プロジェクトルールの確認

### 1.1 確認対象
- docs/setup/cline/rules/detail/以下の最新状態を確認
- すべてのサブディレクトリとファイルを列挙
- ファイル間の関係性を把握

### 1.2 ファイル構造の確認手順
1. detail/ディレクトリの構造確認
2. 各サブディレクトリの内容確認
3. 新規追加ファイルの検出
4. 更新履歴の確認

### 1.3 重点確認項目
- メモリバンクの運用
- Git操作の標準化
- ドキュメント管理ルール
- セキュリティ要件

## 2. エラー防止

### 2.1 プロジェクト全体の整合性
- ルール階層間の整合性
- 設定の標準化
- 更新履歴の管理

### 2.2 問題解決フロー
1. 問題の検出
2. 影響範囲の特定
3. 解決策の提案
4. プロジェクト全体での合意
```

## 4. 改善の効果

### 4.1 期待される効果
- 常に最新の構造を把握
- テンプレートの統一化
- エラーの早期発見

### 4.2 検証方法
- ファイル構造の自動確認
- テンプレート適用状況の確認
- エラー発生率の監視

## 5. 実装計画

### 5.1 段階的な導入
1. テンプレートの更新
2. 手順書の改訂
3. 自動確認の実装

### 5.2 フィードバックの収集
- 運用状況の確認
- 問題点の特定
- 継続的な改善