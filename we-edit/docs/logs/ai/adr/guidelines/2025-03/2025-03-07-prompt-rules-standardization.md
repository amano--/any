# ADR: プロンプトルールの標準化

## ステータス
提案済み・採用

## 作成日
2025-03-07

## 文脈
作業終了処理が適切に実行されない問題が発生していました。これは以下の課題によるものです：

1. トリガーワードの認識が不明確
2. 実行すべき作業の順序が不明確
3. 必要なファイル構造が標準化されていない

## 決定事項

1. トリガーワードの標準化
   - 「おつかれ」
   - 「本日の作業の終了」

2. 実行作業の明確化
   - 週次作業ログの更新
   - ADRの作成
   - 知見のまとめ作成
   - メモリバンクの更新

3. ファイル構造の標準化
   ```
   docs/logs/work-log/[YYYY]/YYYY-MM_[WEEKNUMBER].md
   docs/logs/ai/adr/[開発フェーズ]/YYYY-MM/
   docs/logs/ai/knowledge/[開発フェーズ]/YYYY-MM/
   ```

## 代替案の検討

1. トリガー方式
   - 案A: コマンド形式 ⛌
   - 案B: 自然言語形式 ✓

2. ファイル構造
   - 案A: フラット構造 ⛌
   - 案B: 階層構造 ✓

## 影響

### ポジティブな影響
- 作業終了処理の確実な実行
- ドキュメント構造の一貫性
- トレーサビリティの向上

### 課題
- システムプロンプトの更新必要性
- 既存ファイルの移行
- チーム内での周知

## 注意点

1. トリガーワードの誤検知防止
2. 作業の実行順序の遵守
3. ファイル命名規則の徹底

## リスク

1. システムの複雑化
2. メンテナンスコストの増加
3. チームの学習コスト

## 実装手順

1. プロンプトルールの文書化
2. システムプロンプトの更新
3. テンプレートの整備

## 更新履歴

- 2025-03-07: 初版作成
  - プロンプトルールの標準化
  - ファイル構造の定義
  - 実行手順の明確化